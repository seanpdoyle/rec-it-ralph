<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Use the title from a page's frontmatter if it has one -->
    <title>View Locations near thoughtbot NYC
</title>
    <link href="../../stylesheets/site.css" rel="stylesheet" />
    <script src="../../javascripts/site.js"></script>
  </head>
  <body class="page">
    <header class="header">
      <h1 class="header__name">
<a href="../../">          rec-it-ralph
</a>      </h1>


      <nav class="
        header__navigation
        navigation
        
      ">
<a href="../9b386fad46eecda08db92e8fe4afe37943d042d5/">              &#8592; Previous
</a>
<a href="../647515fbdf76371180392b804961d117c07558bf/">              Next &#8594;
</a>      </nav>
    </header>

    <main class="content">
      <details class="accordion content__item">
        <summary class="accordion__summary">
          <div class="accordion__closed">
            <nav class="
              commit-history
              u-db-overflow-y--auto
              u-mb-overflow-x--scroll
            ">
                <a href="../4ca338863b78e18ed7be316a5442c116136dc5d9/" class="commit-node commit-node--collapsed" title="[SKIP]: Create `git-read` GitHub Action
"></a>
                <a href="../44ee2d1227991296dead3ca7d6ded221e409d26f/" class="commit-node commit-node--collapsed" title="[GENERATED]: Initial Commit
"></a>
                <a href="../e05d0f4bdbac2a95262b7cb7390539c184a51268/" class="commit-node commit-node--collapsed" title="[GENERATED]: Install ActiveStorage and ActionText
"></a>
                <a href="../9b386fad46eecda08db92e8fe4afe37943d042d5/" class="commit-node commit-node--collapsed" title="[SKIP]: Install TailwindCSS
"></a>
                <a href="./" class="commit-node commit-node--collapsed" title="View Locations near thoughtbot NYC
" aria-current="page"></a>
                <a href="../647515fbdf76371180392b804961d117c07558bf/" class="commit-node commit-node--collapsed" title="View Users and the Locations they've added"></a>
                <a href="../e2355e118a7b190450e9602a8071a680a59c7c7b/" class="commit-node commit-node--collapsed" title="View other nearby Locations"></a>
                <a href="../93bb0c491877c8051b51daaffdbb531adbe8b196/" class="commit-node commit-node--collapsed" title="View rich text Recommendations from Users"></a>
                <a href="../d7b75c780c376a916186f0ea2c449cd3d161920e/" class="commit-node commit-node--collapsed" title="Style with TailwindCSS"></a>
                <a href="../ac7c272f40b628dd3e9dfd8e57701966cb1d7db6/" class="commit-node commit-node--collapsed" title="Mobile: Switch between Map and List"></a>
                <a href="../fe3325b1ca71ce8412eb7dff608a67a242d273f6/" class="commit-node commit-node--collapsed" title="Sliding drawer Search results on Mobile"></a>
                <a href="../e612f73dbf6aaf8d47a575a9f1d3686f38f728c9/" class="commit-node commit-node--collapsed" title="Render the Locations on a Leaflet map"></a>
                <a href="../0911bea49692e6015fb17effa6c92e9a1d0acf37/" class="commit-node commit-node--collapsed" title="Pan around the map to “Search this Area”"></a>
                <a href="../a67f67586127053eee0e3dc6765cc03c15deea39/" class="commit-node commit-node--collapsed" title="Clicking on a Card pans the map"></a>
                <a href="../c9bb2feb0f1cc5c9e5263f8e04b5e676e620c030/" class="commit-node commit-node--collapsed" title="[GENERATED]: Initial Commit for iOS Application"></a>
                <a href="../f791760bfb8b02479de18af96f892d48c8c9de54/" class="commit-node commit-node--collapsed" title="Wire up Rec-It-Ralph-ios"></a>
                <a href="../6891dc5fcde3f046792bf3b85ea2bbe695d599b1/" class="commit-node commit-node--collapsed" title="Add iOS platform-specific styles"></a>
                <a href="../be77eda5a3383805d178b26c8eba5f8ca79dbbf4/" class="commit-node commit-node--collapsed" title="prototyping with SwiftUI: both directions"></a>
            </nav>

            <div class="accordion__toggle">
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="accordion--desktop"><title>Expand History</title>
  <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 01.708 0l6 6a.5.5 0 010 .708l-6 6a.5.5 0 01-.708-.708L10.293 8 4.646 2.354a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="accordion--mobile"><title>Expand History</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>

            </div>
          </div>

          <div class="accordion__opened">
            <div class="accordion__toggle accordion__toggle--fill">
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="accordion--desktop"><title>Collapse History</title>
  <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 010 .708L5.707 8l5.647 5.646a.5.5 0 01-.708.708l-6-6a.5.5 0 010-.708l6-6a.5.5 0 01.708 0z" clip-rule="evenodd"></path>
</svg>


              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="accordion--mobile"><title>Collapse History</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>

            </div>
          </div>
        </summary>

        <nav class="
          commit-history
          commit-history--full
          u-db-overflow-y--auto
          u-mb-overflow-x--scroll
        ">
<a href="../4ca338863b78e18ed7be316a5442c116136dc5d9/" class="commit-node commit-node--full">              <p>[SKIP]: Create <code>git-read</code> GitHub Action</p>

</a><a href="../44ee2d1227991296dead3ca7d6ded221e409d26f/" class="commit-node commit-node--full">              <p>[GENERATED]: Initial Commit</p>

</a><a href="../e05d0f4bdbac2a95262b7cb7390539c184a51268/" class="commit-node commit-node--full">              <p>[GENERATED]: Install ActiveStorage and ActionText</p>

</a><a href="../9b386fad46eecda08db92e8fe4afe37943d042d5/" class="commit-node commit-node--full">              <p>[SKIP]: Install TailwindCSS</p>

</a><a href="./" class="commit-node commit-node--full" aria-current="page">              <p>View Locations near thoughtbot NYC</p>

</a><a href="../647515fbdf76371180392b804961d117c07558bf/" class="commit-node commit-node--full">              <p>View Users and the Locations they&#39;ve added</p>

</a><a href="../e2355e118a7b190450e9602a8071a680a59c7c7b/" class="commit-node commit-node--full">              <p>View other nearby Locations</p>

</a><a href="../93bb0c491877c8051b51daaffdbb531adbe8b196/" class="commit-node commit-node--full">              <p>View rich text Recommendations from Users</p>

</a><a href="../d7b75c780c376a916186f0ea2c449cd3d161920e/" class="commit-node commit-node--full">              <p>Style with TailwindCSS</p>

</a><a href="../ac7c272f40b628dd3e9dfd8e57701966cb1d7db6/" class="commit-node commit-node--full">              <p>Mobile: Switch between Map and List</p>

</a><a href="../fe3325b1ca71ce8412eb7dff608a67a242d273f6/" class="commit-node commit-node--full">              <p>Sliding drawer Search results on Mobile</p>

</a><a href="../e612f73dbf6aaf8d47a575a9f1d3686f38f728c9/" class="commit-node commit-node--full">              <p>Render the Locations on a Leaflet map</p>

</a><a href="../0911bea49692e6015fb17effa6c92e9a1d0acf37/" class="commit-node commit-node--full">              <p>Pan around the map to “Search this Area”</p>

</a><a href="../a67f67586127053eee0e3dc6765cc03c15deea39/" class="commit-node commit-node--full">              <p>Clicking on a Card pans the map</p>

</a><a href="../c9bb2feb0f1cc5c9e5263f8e04b5e676e620c030/" class="commit-node commit-node--full">              <p>[GENERATED]: Initial Commit for iOS Application</p>

</a><a href="../f791760bfb8b02479de18af96f892d48c8c9de54/" class="commit-node commit-node--full">              <p>Wire up Rec-It-Ralph-ios</p>

</a><a href="../6891dc5fcde3f046792bf3b85ea2bbe695d599b1/" class="commit-node commit-node--full">              <p>Add iOS platform-specific styles</p>

</a><a href="../be77eda5a3383805d178b26c8eba5f8ca79dbbf4/" class="commit-node commit-node--full">              <p>prototyping with SwiftUI: both directions</p>

</a>        </nav>
      </details>

      <article class="
        commit-content
        commit-content--double
        content__item
        content__item--grow
      ">
        <section class="commit commit--message">

          <h1 id="view-locations-near-thoughtbot-nyc">View Locations near thoughtbot NYC</h1>

<p>Visit the application root to see all the locations near the thougtbot
NYC office. Click on a Location name to visit that Location&rsquo;s page.</p>

        </section>

          <aside class="commit commit--diff commit--long-content">
              <details
  id="Gemfile"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse Gemfile</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand Gemfile</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      Gemfile
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/Gemfile b/Gemfile
index 2f65095..c1a5b7c 100644
</span><span class="gd">--- a/Gemfile
</span><span class="gi">+++ b/Gemfile
</span><span class="p">@@ -28,6 +28,7 @@</span> gem 'jbuilder', '~&gt; 2.7'
 
 # Reduces boot times through caching; required in config/boot.rb
 gem 'bootsnap', '&gt;= 1.4.2', require: false
<span class="gi">+gem 'geocoder', '~&gt; 1.6'
</span> 
 group :development, :test do
   # Call 'byebug' anywhere in the code to stop execution and get a debugger console
</code></pre></div></details>

              <details
  id="Gemfile.lock"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse Gemfile.lock</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand Gemfile.lock</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      Gemfile.lock
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/Gemfile.lock b/Gemfile.lock
index 0d417db..a4be247 100644
</span><span class="gd">--- a/Gemfile.lock
</span><span class="gi">+++ b/Gemfile.lock
</span><span class="p">@@ -126,6 +126,7 @@</span> GEM
     crass (1.0.6)
     erubi (1.9.0)
     ffi (1.13.1)
<span class="gi">+    geocoder (1.6.3)
</span>     globalid (0.4.2)
       activesupport (&gt;= 4.2.0)
     i18n (1.8.5)
<span class="p">@@ -221,6 +222,7 @@</span> DEPENDENCIES
   bootsnap (&gt;= 1.4.2)
   byebug
   capybara (&gt;= 2.15)
<span class="gi">+  geocoder (~&gt; 1.6)
</span>   jbuilder (~&gt; 2.7)
   listen (~&gt; 3.2)
   pg (&gt;= 0.18, &lt; 2.0)
</code></pre></div></details>

              <details
  id="app/controllers/locations_controller.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/controllers/locations_controller.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/controllers/locations_controller.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/controllers/locations_controller.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/controllers/locations_controller.rb b/app/controllers/locations_controller.rb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..3c75fe1
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/app/controllers/locations_controller.rb
</span><span class="p">@@ -0,0 +1,13 @@</span>
<span class="gi">+class LocationsController &lt; ApplicationController
+  def index
+    locations = Location.near(Current.office, 1, unit: :mi)
+
+    render locals: {locations: locations}
+  end
+
+  def show
+    location = Location.find(params[:id])
+
+    render locals: {location: location}
+  end
+end
</span></code></pre></div></details>

              <details
  id="app/models/attraction.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/models/attraction.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/models/attraction.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/models/attraction.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/models/attraction.rb b/app/models/attraction.rb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..ab49d40
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/app/models/attraction.rb
</span><span class="p">@@ -0,0 +1,3 @@</span>
<span class="gi">+class Attraction &lt; ApplicationRecord
+  include Locatable
+end
</span></code></pre></div></details>

              <details
  id="app/models/cafe.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/models/cafe.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/models/cafe.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/models/cafe.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/models/cafe.rb b/app/models/cafe.rb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..e50f52b
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/app/models/cafe.rb
</span><span class="p">@@ -0,0 +1,3 @@</span>
<span class="gi">+class Cafe &lt; ApplicationRecord
+  include Locatable
+end
</span></code></pre></div></details>

              <details
  id="app/models/concerns/locatable.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/models/concerns/locatable.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/models/concerns/locatable.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/models/concerns/locatable.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/models/concerns/locatable.rb b/app/models/concerns/locatable.rb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..722db0e
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/app/models/concerns/locatable.rb
</span><span class="p">@@ -0,0 +1,9 @@</span>
<span class="gi">+module Locatable
+  extend ActiveSupport::Concern
+
+  included do
+    has_one :location, as: :locatable, inverse_of: :locatable, touch: true
+
+    delegate_missing_to :location
+  end
+end
</span></code></pre></div></details>

              <details
  id="app/models/current.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/models/current.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/models/current.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/models/current.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/models/current.rb b/app/models/current.rb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..c47a9eb
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/app/models/current.rb
</span><span class="p">@@ -0,0 +1,5 @@</span>
<span class="gi">+class Current &lt; ActiveSupport::CurrentAttributes
+  def office
+    Office.first
+  end
+end
</span></code></pre></div></details>

              <details
  id="app/models/location.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/models/location.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/models/location.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/models/location.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/models/location.rb b/app/models/location.rb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..221cbe7
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/app/models/location.rb
</span><span class="p">@@ -0,0 +1,15 @@</span>
<span class="gi">+class Location &lt; ApplicationRecord
+  geocoded_by :address
+
+  delegated_type :locatable, types: %w[ Attraction Cafe Office Restaurant ]
+
+  delegate :name, to: :locatable
+
+  def address
+    [ line1, city, state, postal_code, country ].join(", ")
+  end
+
+  def to_coordinates
+    [ latitude, longitude ]
+  end
+end
</span></code></pre></div></details>

              <details
  id="app/models/office.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/models/office.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/models/office.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/models/office.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/models/office.rb b/app/models/office.rb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..fd54411
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/app/models/office.rb
</span><span class="p">@@ -0,0 +1,3 @@</span>
<span class="gi">+class Office &lt; ApplicationRecord
+  include Locatable
+end
</span></code></pre></div></details>

              <details
  id="app/models/restaurant.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/models/restaurant.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/models/restaurant.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/models/restaurant.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/models/restaurant.rb b/app/models/restaurant.rb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..8a7d60f
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/app/models/restaurant.rb
</span><span class="p">@@ -0,0 +1,3 @@</span>
<span class="gi">+class Restaurant &lt; ApplicationRecord
+  include Locatable
+end
</span></code></pre></div></details>

              <details
  id="app/views/layouts/application.html.erb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/views/layouts/application.html.erb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/views/layouts/application.html.erb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/views/layouts/application.html.erb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/views/layouts/application.html.erb b/app/views/layouts/application.html.erb
index d76b565..880aa47 100644
</span><span class="gd">--- a/app/views/layouts/application.html.erb
</span><span class="gi">+++ b/app/views/layouts/application.html.erb
</span><span class="p">@@ -1,7 +1,7 @@</span>
 &lt;!DOCTYPE html&gt;
 &lt;html&gt;
   &lt;head&gt;
<span class="gd">-    &lt;title&gt;RecItRalph&lt;/title&gt;
</span><span class="gi">+    &lt;title&gt;&lt;%= yield(:document_title).presence || "Rec-it-Ralph" %&gt;&lt;/title&gt;
</span>     &lt;%= csrf_meta_tags %&gt;
     &lt;%= csp_meta_tag %&gt;
 
</code></pre></div></details>

              <details
  id="app/views/locations/index.html.erb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/views/locations/index.html.erb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/views/locations/index.html.erb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/views/locations/index.html.erb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/views/locations/index.html.erb b/app/views/locations/index.html.erb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..f0e69d6
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/app/views/locations/index.html.erb
</span><span class="p">@@ -0,0 +1,13 @@</span>
<span class="gi">+&lt;section&gt;
+  &lt;p&gt;&lt;%= pluralize locations.size, "result"  %&gt;&lt;/p&gt;
+
+  &lt;ul&gt;
+    &lt;% locations.each do |location| %&gt;
+      &lt;li&gt;
+        &lt;%= link_to location_path(location) do %&gt;
+          &lt;h2&gt;&lt;%= location.name %&gt;&lt;/h2&gt;
+        &lt;% end %&gt;
+      &lt;/li&gt;
+    &lt;% end %&gt;
+  &lt;/ul&gt;
+&lt;/section&gt;
</span></code></pre></div></details>

              <details
  id="app/views/locations/show.html.erb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/views/locations/show.html.erb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/views/locations/show.html.erb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/views/locations/show.html.erb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/views/locations/show.html.erb b/app/views/locations/show.html.erb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..6c16807
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/app/views/locations/show.html.erb
</span><span class="p">@@ -0,0 +1,20 @@</span>
<span class="gi">+&lt;% content_for(:document_title, location.name) %&gt;
+
+&lt;section&gt;
+  &lt;div&gt;
+    &lt;h1&gt;&lt;%= location.name %&gt;&lt;/h1&gt;
+  &lt;/div&gt;
+
+  &lt;address&gt;
+    &lt;p&gt;&lt;%= location.line1 %&gt;&lt;/p&gt;
+    &lt;% if location.line2? %&gt;
+    &lt;p&gt;&lt;%= location.line2 %&gt;&lt;/p&gt;
+    &lt;% end %&gt;
+    &lt;p&gt;&lt;%= location.city %&gt;, &lt;%= location.state %&gt; &lt;%= location.postal_code %&gt;&lt;/p&gt;
+  &lt;/address&gt;
+
+  &lt;dl&gt;
+    &lt;dt&gt;Tags&lt;/dt&gt;
+    &lt;dd&gt;&lt;%= location.locatable_name.titleize %&gt;&lt;/dd&gt;
+  &lt;/dl&gt;
+&lt;/section&gt;
</span></code></pre></div></details>

              <details
  id="bin/setup"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse bin/setup</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand bin/setup</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      bin/setup
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/bin/setup b/bin/setup
index 2d33af1..7c5372f 100755
</span><span class="gd">--- a/bin/setup
</span><span class="gi">+++ b/bin/setup
</span><span class="p">@@ -26,7 +26,7 @@</span> FileUtils.chdir APP_ROOT do
   # end
 
   puts "\n== Preparing database =="
<span class="gd">-  system! 'bin/rails db:prepare'
</span><span class="gi">+  system! 'bin/rails db:prepare db:fixtures:load'
</span> 
   puts "\n== Removing old logs and tempfiles =="
   system! 'bin/rails log:clear tmp:clear'
</code></pre></div></details>

              <details
  id="config/initializers/inflections.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse config/initializers/inflections.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand config/initializers/inflections.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      config/initializers/inflections.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/config/initializers/inflections.rb b/config/initializers/inflections.rb
index ac033bf..2137b09 100644
</span><span class="gd">--- a/config/initializers/inflections.rb
</span><span class="gi">+++ b/config/initializers/inflections.rb
</span><span class="p">@@ -14,3 +14,7 @@</span>
 # ActiveSupport::Inflector.inflections(:en) do |inflect|
 #   inflect.acronym 'RESTful'
 # end
<span class="gi">+
+ActiveSupport::Inflector.inflections(:en) do |inflect|
+  inflect.plural "cafe", "cafes"
+end
</span></code></pre></div></details>

              <details
  id="config/routes.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse config/routes.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand config/routes.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      config/routes.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/config/routes.rb b/config/routes.rb
index c06383a..014810f 100644
</span><span class="gd">--- a/config/routes.rb
</span><span class="gi">+++ b/config/routes.rb
</span><span class="p">@@ -1,3 +1,6 @@</span>
 Rails.application.routes.draw do
   # For details on the DSL available within this file, see https://guides.rubyonrails.org/routing.html
<span class="gi">+  resources :locations, only: :show
+
+  root to: "locations#index"
</span> end
</code></pre></div></details>

              <details
  id="db/migrate/20200913164056_create_locations.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse db/migrate/20200913164056_create_locations.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand db/migrate/20200913164056_create_locations.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      db/migrate/20200913164056_create_locations.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/db/migrate/20200913164056_create_locations.rb b/db/migrate/20200913164056_create_locations.rb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..77d26dd
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/db/migrate/20200913164056_create_locations.rb
</span><span class="p">@@ -0,0 +1,23 @@</span>
<span class="gi">+class CreateLocations &lt; ActiveRecord::Migration[6.1]
+  def change
+    enable_extension :citext
+
+    create_table :locations do |t|
+      t.references :locatable, polymorphic: true, null: false, index: true
+
+      t.citext :line1, null: false
+      t.citext :line2, null: true
+      t.citext :city, null: false
+      t.citext :state, null: false
+      t.citext :postal_code, null: false
+      t.citext :country, null: false, default: "US"
+
+      t.float :latitude, precision: 9
+      t.float :longitude, precision: 9
+
+      t.timestamps
+
+      t.index [:latitude, :longitude]
+    end
+  end
+end
</span></code></pre></div></details>

              <details
  id="db/migrate/20200913164106_create_offices.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse db/migrate/20200913164106_create_offices.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand db/migrate/20200913164106_create_offices.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      db/migrate/20200913164106_create_offices.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/db/migrate/20200913164106_create_offices.rb b/db/migrate/20200913164106_create_offices.rb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..042c351
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/db/migrate/20200913164106_create_offices.rb
</span><span class="p">@@ -0,0 +1,7 @@</span>
<span class="gi">+class CreateOffices &lt; ActiveRecord::Migration[6.1]
+  def change
+    create_table :offices do |t|
+      t.citext :name, null: false
+    end
+  end
+end
</span></code></pre></div></details>

              <details
  id="db/migrate/20200913164109_create_cafes.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse db/migrate/20200913164109_create_cafes.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand db/migrate/20200913164109_create_cafes.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      db/migrate/20200913164109_create_cafes.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/db/migrate/20200913164109_create_cafes.rb b/db/migrate/20200913164109_create_cafes.rb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..e414e65
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/db/migrate/20200913164109_create_cafes.rb
</span><span class="p">@@ -0,0 +1,7 @@</span>
<span class="gi">+class CreateCafes &lt; ActiveRecord::Migration[6.1]
+  def change
+    create_table :cafes do |t|
+      t.citext :name, null: false
+    end
+  end
+end
</span></code></pre></div></details>

              <details
  id="db/migrate/20200913164115_create_attractions.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse db/migrate/20200913164115_create_attractions.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand db/migrate/20200913164115_create_attractions.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      db/migrate/20200913164115_create_attractions.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/db/migrate/20200913164115_create_attractions.rb b/db/migrate/20200913164115_create_attractions.rb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..831dda3
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/db/migrate/20200913164115_create_attractions.rb
</span><span class="p">@@ -0,0 +1,7 @@</span>
<span class="gi">+class CreateAttractions &lt; ActiveRecord::Migration[6.1]
+  def change
+    create_table :attractions do |t|
+      t.citext :name, null: false
+    end
+  end
+end
</span></code></pre></div></details>

              <details
  id="db/migrate/20200913164134_create_restaurants.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse db/migrate/20200913164134_create_restaurants.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand db/migrate/20200913164134_create_restaurants.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      db/migrate/20200913164134_create_restaurants.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/db/migrate/20200913164134_create_restaurants.rb b/db/migrate/20200913164134_create_restaurants.rb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..a3c4636
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/db/migrate/20200913164134_create_restaurants.rb
</span><span class="p">@@ -0,0 +1,7 @@</span>
<span class="gi">+class CreateRestaurants &lt; ActiveRecord::Migration[6.1]
+  def change
+    create_table :restaurants do |t|
+      t.citext :name, null: false
+    end
+  end
+end
</span></code></pre></div></details>

              <details
  id="db/schema.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse db/schema.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand db/schema.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      db/schema.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/db/schema.rb b/db/schema.rb
index 93a8a24..6925f06 100644
</span><span class="gd">--- a/db/schema.rb
</span><span class="gi">+++ b/db/schema.rb
</span><span class="p">@@ -10,9 +10,10 @@</span>
 #
 # It's strongly recommended that you check this file into your version control system.
 
<span class="gd">-ActiveRecord::Schema.define(version: 2020_09_13_163832) do
</span><span class="gi">+ActiveRecord::Schema.define(version: 2020_09_13_164134) do
</span> 
   # These are extensions that must be enabled in order to support this database
<span class="gi">+  enable_extension "citext"
</span>   enable_extension "plpgsql"
 
   create_table "action_text_rich_texts", force: :cascade do |t|
<span class="p">@@ -53,6 +54,39 @@</span> ActiveRecord::Schema.define(version: 2020_09_13_163832) do
     t.index ["blob_id", "variation_digest"], name: "index_active_storage_variant_records_uniqueness", unique: true
   end
 
<span class="gi">+  create_table "attractions", force: :cascade do |t|
+    t.citext "name", null: false
+  end
+
+  create_table "cafes", force: :cascade do |t|
+    t.citext "name", null: false
+  end
+
+  create_table "locations", force: :cascade do |t|
+    t.string "locatable_type", null: false
+    t.bigint "locatable_id", null: false
+    t.citext "line1", null: false
+    t.citext "line2"
+    t.citext "city", null: false
+    t.citext "state", null: false
+    t.citext "postal_code", null: false
+    t.citext "country", default: "US", null: false
+    t.float "latitude"
+    t.float "longitude"
+    t.datetime "created_at", precision: 6, null: false
+    t.datetime "updated_at", precision: 6, null: false
+    t.index ["latitude", "longitude"], name: "index_locations_on_latitude_and_longitude"
+    t.index ["locatable_type", "locatable_id"], name: "index_locations_on_locatable_type_and_locatable_id"
+  end
+
+  create_table "offices", force: :cascade do |t|
+    t.citext "name", null: false
+  end
+
+  create_table "restaurants", force: :cascade do |t|
+    t.citext "name", null: false
+  end
+
</span>   add_foreign_key "active_storage_attachments", "active_storage_blobs", column: "blob_id"
   add_foreign_key "active_storage_variant_records", "active_storage_blobs", column: "blob_id"
 end
</code></pre></div></details>

              <details
  id="test/controllers/locations_controller_test.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse test/controllers/locations_controller_test.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand test/controllers/locations_controller_test.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      test/controllers/locations_controller_test.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/test/controllers/locations_controller_test.rb b/test/controllers/locations_controller_test.rb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..ecd5923
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/test/controllers/locations_controller_test.rb
</span><span class="p">@@ -0,0 +1,27 @@</span>
<span class="gi">+require "test_helper"
+
+class LocationsControllerTest &lt; ActionDispatch::IntegrationTest
+  test "#index includes the number of results" do
+    get root_path
+
+    assert_text "2 results"
+  end
+
+  test "#show includes relevant information" do
+    culture_espresso = cafes(:culture_espresso)
+
+    get location_path(culture_espresso.location)
+
+    assert_select "title", text: culture_espresso.name
+    assert_text culture_espresso.name
+    assert_text culture_espresso.line1
+    assert_text culture_espresso.city
+    assert_text culture_espresso.state
+    assert_text culture_espresso.postal_code
+    assert_text culture_espresso.locatable_name.titleize
+  end
+
+  def assert_text(text)
+    assert_includes document_root_element.text.squish, text.squish
+  end
+end
</span></code></pre></div></details>

              <details
  id="test/fixtures/attractions.yml"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse test/fixtures/attractions.yml</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand test/fixtures/attractions.yml</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      test/fixtures/attractions.yml
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/test/fixtures/attractions.yml b/test/fixtures/attractions.yml
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..6155fcb
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/test/fixtures/attractions.yml
</span><span class="p">@@ -0,0 +1,2 @@</span>
<span class="gi">+staten_island_mall:
+  name: "Staten Island Mall"
</span></code></pre></div></details>

              <details
  id="test/fixtures/cafes.yml"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse test/fixtures/cafes.yml</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand test/fixtures/cafes.yml</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      test/fixtures/cafes.yml
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/test/fixtures/cafes.yml b/test/fixtures/cafes.yml
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..b592181
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/test/fixtures/cafes.yml
</span><span class="p">@@ -0,0 +1,2 @@</span>
<span class="gi">+culture_espresso:
+  name: "Culture Espresso"
</span></code></pre></div></details>

              <details
  id="test/fixtures/locations.yml"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse test/fixtures/locations.yml</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand test/fixtures/locations.yml</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      test/fixtures/locations.yml
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/test/fixtures/locations.yml b/test/fixtures/locations.yml
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..7f5b45b
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/test/fixtures/locations.yml
</span><span class="p">@@ -0,0 +1,38 @@</span>
<span class="gi">+culture_espresso:
+  city: "New York"
+  country: "US"
+  latitude: 40.7519536
+  line1: "72 W 38th St."
+  locatable: $LABEL (Cafe)
+  longitude: -73.9858097
+  postal_code: "10018"
+  state: "NY"
+
+staten_island_mall:
+  city: "Staten Island"
+  latitude: 40.613293
+  line1: "2655 Richmond Ave"
+  locatable: $LABEL (Attraction)
+  longitude: -74.157653
+  postal_code: "10314"
+  state: "NY"
+
+superiority_burger:
+  city: "New York"
+  latitude: 40.7274633
+  line1: "430 E 9th St"
+  locatable: $LABEL (Restaurant)
+  longitude: -73.9834821
+  postal_code: "10009"
+  state: "NY"
+
+thoughtbot_nyc:
+  city: "New York"
+  country: "US"
+  latitude: 40.752552
+  line1: "1384 Broadway"
+  line2: "Floor 20"
+  locatable: $LABEL (Office)
+  longitude: -73.987007
+  postal_code: "10018"
+  state: "NY"
</span></code></pre></div></details>

              <details
  id="test/fixtures/offices.yml"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse test/fixtures/offices.yml</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand test/fixtures/offices.yml</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      test/fixtures/offices.yml
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/test/fixtures/offices.yml b/test/fixtures/offices.yml
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..9e4d352
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/test/fixtures/offices.yml
</span><span class="p">@@ -0,0 +1,2 @@</span>
<span class="gi">+thoughtbot_nyc:
+  name: "thoughtbot NYC"
</span></code></pre></div></details>

              <details
  id="test/fixtures/restaurants.yml"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse test/fixtures/restaurants.yml</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand test/fixtures/restaurants.yml</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      test/fixtures/restaurants.yml
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/test/fixtures/restaurants.yml b/test/fixtures/restaurants.yml
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..e930caf
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/test/fixtures/restaurants.yml
</span><span class="p">@@ -0,0 +1,2 @@</span>
<span class="gi">+superiority-burger:
+  name: "Superiority Burger"
</span></code></pre></div></details>

              <details
  id="test/models/location_test.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse test/models/location_test.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand test/models/location_test.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      test/models/location_test.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/test/models/location_test.rb b/test/models/location_test.rb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..a1fbbcd
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/test/models/location_test.rb
</span><span class="p">@@ -0,0 +1,20 @@</span>
<span class="gi">+require "test_helper"
+
+class LocationTest &lt; ActiveSupport::TestCase
+  test "#address excludes the line2" do
+    thoughtbot_nyc = offices(:thoughtbot_nyc)
+
+    address = thoughtbot_nyc.address
+
+    assert_equal address, "1384 Broadway, New York, NY, 10018, US"
+  end
+
+  test "#to_coordinates returns the latitude and longitude as a pair" do
+    thoughtbot_nyc = offices(:thoughtbot_nyc)
+
+    latitude, longitude = thoughtbot_nyc.to_coordinates
+
+    assert_equal thoughtbot_nyc.latitude, latitude
+    assert_equal thoughtbot_nyc.longitude, longitude
+  end
+end
</span></code></pre></div></details>

              <details
  id="test/system/locations_test.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse test/system/locations_test.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand test/system/locations_test.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      test/system/locations_test.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/test/system/locations_test.rb b/test/system/locations_test.rb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..41e91cc
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/test/system/locations_test.rb
</span><span class="p">@@ -0,0 +1,22 @@</span>
<span class="gi">+require "application_system_test_case"
+
+class LocationsTest &lt; ApplicationSystemTestCase
+  test "view Cafes near thoughtbot NYC" do
+    thoughtbot_nyc = offices(:thoughtbot_nyc)
+    culture_espresso = cafes(:culture_espresso)
+
+    visit root_path
+
+    assert_text thoughtbot_nyc.name
+    assert_text culture_espresso.name
+  end
+
+  test "views a Location" do
+    culture_espresso = cafes(:culture_espresso)
+
+    visit root_path
+    click_on culture_espresso.name
+
+    assert_text culture_espresso.name
+  end
+end
</span></code></pre></div></details>

          </aside>
      </article>
    </main>
  </body>
</html>
