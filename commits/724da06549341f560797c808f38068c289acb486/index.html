<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Use the title from a page's frontmatter if it has one -->
    <title>View rich text Recommendations from Users</title>
    <link href="../../stylesheets/site.css" rel="stylesheet" />
    <script src="../../javascripts/site.js"></script>
  </head>
  <body class="page">
    <header class="header">
      <h1 class="header__name">
<a href="../../">          rec-it-ralph
</a>      </h1>


      <nav class="
        header__navigation
        navigation
        
      ">
<a href="../66eed3666d4d7cdd521a6e8651c25dad73d5213f/">              &#8592; Previous
</a>
<a href="../14d1367886ac81723d171622c4faeb62e80b89e0/">              Next &#8594;
</a>      </nav>
    </header>

    <main class="content">
      <details class="accordion content__item">
        <summary class="accordion__summary">
          <div class="accordion__closed">
            <nav class="
              commit-history
              u-db-overflow-y--auto
              u-mb-overflow-x--scroll
            ">
                <a href="../4ca338863b78e18ed7be316a5442c116136dc5d9/" class="commit-node commit-node--collapsed" title="[SKIP]: Create `git-read` GitHub Action
"></a>
                <a href="../e283e56ab9db463caec1798c25892960f243c167/" class="commit-node commit-node--collapsed" title="[GENERATED]: Initial Commit
"></a>
                <a href="../a4827099fd874d21af6a763d8663a68c8bb39a5d/" class="commit-node commit-node--collapsed" title="[GENERATED]: Install ActiveStorage and ActionText
"></a>
                <a href="../76837b7a4f684f97103935a3801d2933c9e8a8a3/" class="commit-node commit-node--collapsed" title="[SKIP]: Install TailwindCSS
"></a>
                <a href="../9e2d38e85c981c0ce33cf9afcbc81d4d2737d72a/" class="commit-node commit-node--collapsed" title="View Locations near thoughtbot NYC
"></a>
                <a href="../d1de1c9c506baf5f837738c2cda731824bf5e600/" class="commit-node commit-node--collapsed" title="View Users and the Locations they've added"></a>
                <a href="../66eed3666d4d7cdd521a6e8651c25dad73d5213f/" class="commit-node commit-node--collapsed" title="View other nearby Locations"></a>
                <a href="./" class="commit-node commit-node--collapsed" title="View rich text Recommendations from Users" aria-current="page"></a>
                <a href="../14d1367886ac81723d171622c4faeb62e80b89e0/" class="commit-node commit-node--collapsed" title="Style with TailwindCSS"></a>
                <a href="../17829539ac982ef73b17fc81a9effea2de122df4/" class="commit-node commit-node--collapsed" title="Mobile: Switch between Map and List"></a>
                <a href="../ae1981edf75f6c8d929b515fc5cb08ce7351474c/" class="commit-node commit-node--collapsed" title="Sliding drawer Search results on Mobile"></a>
                <a href="../0d8a99d880a16667257bf42128641df2876cff27/" class="commit-node commit-node--collapsed" title="Render the Locations on a Leaflet map"></a>
                <a href="../a342e636baccee5536382e07e56c032a23b2440e/" class="commit-node commit-node--collapsed" title="Pan around the map to “Search this Area”"></a>
                <a href="../f008efdd2592ac182a114e618d0ad2b0a62d8988/" class="commit-node commit-node--collapsed" title="Clicking on a Card pans the map"></a>
                <a href="../64390d5283f533d327ab97ab56879020ee12d85a/" class="commit-node commit-node--collapsed" title="[GENERATED]: Initial Commit for iOS Application"></a>
                <a href="../73a4a52aa47ba34788059c759beddf7bb5ba29bb/" class="commit-node commit-node--collapsed" title="Wire up Rec-It-Ralph-ios"></a>
                <a href="../1aa18a30c58037a598496f5df21487c70a7f9221/" class="commit-node commit-node--collapsed" title="Add iOS platform-specific styles"></a>
                <a href="../3152b9dd2e4e2bd985bf254077790e5f39c3c75e/" class="commit-node commit-node--collapsed" title="prototyping with SwiftUI: both directions"></a>
            </nav>

            <div class="accordion__toggle">
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="accordion--desktop"><title>Expand History</title>
  <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 01.708 0l6 6a.5.5 0 010 .708l-6 6a.5.5 0 01-.708-.708L10.293 8 4.646 2.354a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="accordion--mobile"><title>Expand History</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>

            </div>
          </div>

          <div class="accordion__opened">
            <div class="accordion__toggle accordion__toggle--fill">
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="accordion--desktop"><title>Collapse History</title>
  <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 010 .708L5.707 8l5.647 5.646a.5.5 0 01-.708.708l-6-6a.5.5 0 010-.708l6-6a.5.5 0 01.708 0z" clip-rule="evenodd"></path>
</svg>


              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="accordion--mobile"><title>Collapse History</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>

            </div>
          </div>
        </summary>

        <nav class="
          commit-history
          commit-history--full
          u-db-overflow-y--auto
          u-mb-overflow-x--scroll
        ">
<a href="../4ca338863b78e18ed7be316a5442c116136dc5d9/" class="commit-node commit-node--full">              <p>[SKIP]: Create <code>git-read</code> GitHub Action</p>

</a><a href="../e283e56ab9db463caec1798c25892960f243c167/" class="commit-node commit-node--full">              <p>[GENERATED]: Initial Commit</p>

</a><a href="../a4827099fd874d21af6a763d8663a68c8bb39a5d/" class="commit-node commit-node--full">              <p>[GENERATED]: Install ActiveStorage and ActionText</p>

</a><a href="../76837b7a4f684f97103935a3801d2933c9e8a8a3/" class="commit-node commit-node--full">              <p>[SKIP]: Install TailwindCSS</p>

</a><a href="../9e2d38e85c981c0ce33cf9afcbc81d4d2737d72a/" class="commit-node commit-node--full">              <p>View Locations near thoughtbot NYC</p>

</a><a href="../d1de1c9c506baf5f837738c2cda731824bf5e600/" class="commit-node commit-node--full">              <p>View Users and the Locations they&#39;ve added</p>

</a><a href="../66eed3666d4d7cdd521a6e8651c25dad73d5213f/" class="commit-node commit-node--full">              <p>View other nearby Locations</p>

</a><a href="./" class="commit-node commit-node--full" aria-current="page">              <p>View rich text Recommendations from Users</p>

</a><a href="../14d1367886ac81723d171622c4faeb62e80b89e0/" class="commit-node commit-node--full">              <p>Style with TailwindCSS</p>

</a><a href="../17829539ac982ef73b17fc81a9effea2de122df4/" class="commit-node commit-node--full">              <p>Mobile: Switch between Map and List</p>

</a><a href="../ae1981edf75f6c8d929b515fc5cb08ce7351474c/" class="commit-node commit-node--full">              <p>Sliding drawer Search results on Mobile</p>

</a><a href="../0d8a99d880a16667257bf42128641df2876cff27/" class="commit-node commit-node--full">              <p>Render the Locations on a Leaflet map</p>

</a><a href="../a342e636baccee5536382e07e56c032a23b2440e/" class="commit-node commit-node--full">              <p>Pan around the map to “Search this Area”</p>

</a><a href="../f008efdd2592ac182a114e618d0ad2b0a62d8988/" class="commit-node commit-node--full">              <p>Clicking on a Card pans the map</p>

</a><a href="../64390d5283f533d327ab97ab56879020ee12d85a/" class="commit-node commit-node--full">              <p>[GENERATED]: Initial Commit for iOS Application</p>

</a><a href="../73a4a52aa47ba34788059c759beddf7bb5ba29bb/" class="commit-node commit-node--full">              <p>Wire up Rec-It-Ralph-ios</p>

</a><a href="../1aa18a30c58037a598496f5df21487c70a7f9221/" class="commit-node commit-node--full">              <p>Add iOS platform-specific styles</p>

</a><a href="../3152b9dd2e4e2bd985bf254077790e5f39c3c75e/" class="commit-node commit-node--full">              <p>prototyping with SwiftUI: both directions</p>

</a>        </nav>
      </details>

      <article class="
        commit-content
        commit-content--double
        content__item
        content__item--grow
      ">
        <section class="commit commit--message">

          <h1 id="view-rich-text-recommendations-from-users">View rich text Recommendations from Users</h1>

        </section>

          <aside class="commit commit--diff commit--long-content">
              <details
  id="app/models/location.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/models/location.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/models/location.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/models/location.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/models/location.rb b/app/models/location.rb
index 23c501f..62feca5 100644
</span><span class="gd">--- a/app/models/location.rb
</span><span class="gi">+++ b/app/models/location.rb
</span><span class="p">@@ -1,4 +1,6 @@</span>
 class Location &lt; ApplicationRecord
<span class="gi">+  has_many :recommendations
+
</span>   belongs_to :creator, class_name: "User"
 
   geocoded_by :address
</code></pre></div></details>

              <details
  id="app/models/office.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/models/office.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/models/office.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/models/office.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/models/office.rb b/app/models/office.rb
index fd54411..87daa72 100644
</span><span class="gd">--- a/app/models/office.rb
</span><span class="gi">+++ b/app/models/office.rb
</span><span class="p">@@ -1,3 +1,8 @@</span>
 class Office &lt; ApplicationRecord
<span class="gi">+  include ActionText::Attachable
</span>   include Locatable
<span class="gi">+
+  def to_attachable_partial_path
+    "offices/attachable"
+  end
</span> end
</code></pre></div></details>

              <details
  id="app/models/recommendation.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/models/recommendation.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/models/recommendation.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/models/recommendation.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/models/recommendation.rb b/app/models/recommendation.rb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..d308a0d
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/app/models/recommendation.rb
</span><span class="p">@@ -0,0 +1,6 @@</span>
<span class="gi">+class Recommendation &lt; ApplicationRecord
+  belongs_to :location
+  belongs_to :user
+
+  has_rich_text :content
+end
</span></code></pre></div></details>

              <details
  id="app/views/locations/show.html.erb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/views/locations/show.html.erb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/views/locations/show.html.erb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/views/locations/show.html.erb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/views/locations/show.html.erb b/app/views/locations/show.html.erb
index ab6f8a1..e97c0af 100644
</span><span class="gd">--- a/app/views/locations/show.html.erb
</span><span class="gi">+++ b/app/views/locations/show.html.erb
</span><span class="p">@@ -27,6 +27,11 @@</span>
       &lt;% end %&gt;
     &lt;/dd&gt;
 
<span class="gi">+    &lt;% if location.recommendations.any? %&gt;
+    &lt;dt&gt;Recommendation&lt;/dt&gt;
+    &lt;dd&gt;&lt;%= location.recommendations.first.content %&gt;&lt;/dd&gt;
+    &lt;% end %&gt;
+
</span>     &lt;dt&gt;Tags&lt;/dt&gt;
     &lt;dd&gt;&lt;%= location.locatable_name.titleize %&gt;&lt;/dd&gt;
 
</code></pre></div></details>

              <details
  id="app/views/offices/_attachable.html.erb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse app/views/offices/_attachable.html.erb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand app/views/offices/_attachable.html.erb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      app/views/offices/_attachable.html.erb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/app/views/offices/_attachable.html.erb b/app/views/offices/_attachable.html.erb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..6431a2d
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/app/views/offices/_attachable.html.erb
</span><span class="p">@@ -0,0 +1,3 @@</span>
<span class="gi">+&lt;%= link_to location_path(office.location), class: "underline" do %&gt;
+  &lt;%= office.name %&gt;
+&lt;% end %&gt;
</span></code></pre></div></details>

              <details
  id="db/migrate/20200914011248_create_recommendations.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse db/migrate/20200914011248_create_recommendations.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand db/migrate/20200914011248_create_recommendations.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      db/migrate/20200914011248_create_recommendations.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/db/migrate/20200914011248_create_recommendations.rb b/db/migrate/20200914011248_create_recommendations.rb
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..e1f656d
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/db/migrate/20200914011248_create_recommendations.rb
</span><span class="p">@@ -0,0 +1,10 @@</span>
<span class="gi">+class CreateRecommendations &lt; ActiveRecord::Migration[6.1]
+  def change
+    create_table :recommendations do |t|
+      t.references :location, null: false, index: true, foreign_key: true
+      t.references :user, null: false, index: true, foreign_key: true
+
+      t.timestamps
+    end
+  end
+end
</span></code></pre></div></details>

              <details
  id="db/schema.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse db/schema.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand db/schema.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      db/schema.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/db/schema.rb b/db/schema.rb
index b7a51a4..6d2c4bb 100644
</span><span class="gd">--- a/db/schema.rb
</span><span class="gi">+++ b/db/schema.rb
</span><span class="p">@@ -10,7 +10,7 @@</span>
 #
 # It's strongly recommended that you check this file into your version control system.
 
<span class="gd">-ActiveRecord::Schema.define(version: 2020_09_13_225956) do
</span><span class="gi">+ActiveRecord::Schema.define(version: 2020_09_14_011248) do
</span> 
   # These are extensions that must be enabled in order to support this database
   enable_extension "citext"
<span class="p">@@ -85,6 +85,15 @@</span> ActiveRecord::Schema.define(version: 2020_09_13_225956) do
     t.citext "name", null: false
   end
 
<span class="gi">+  create_table "recommendations", force: :cascade do |t|
+    t.bigint "location_id", null: false
+    t.bigint "user_id", null: false
+    t.datetime "created_at", precision: 6, null: false
+    t.datetime "updated_at", precision: 6, null: false
+    t.index ["location_id"], name: "index_recommendations_on_location_id"
+    t.index ["user_id"], name: "index_recommendations_on_user_id"
+  end
+
</span>   create_table "restaurants", force: :cascade do |t|
     t.citext "name", null: false
   end
<span class="p">@@ -100,4 +109,6 @@</span> ActiveRecord::Schema.define(version: 2020_09_13_225956) do
   add_foreign_key "active_storage_attachments", "active_storage_blobs", column: "blob_id"
   add_foreign_key "active_storage_variant_records", "active_storage_blobs", column: "blob_id"
   add_foreign_key "locations", "users", column: "creator_id"
<span class="gi">+  add_foreign_key "recommendations", "locations"
+  add_foreign_key "recommendations", "users"
</span> end
</code></pre></div></details>

              <details
  id="test/controllers/locations_controller_test.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse test/controllers/locations_controller_test.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand test/controllers/locations_controller_test.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      test/controllers/locations_controller_test.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/test/controllers/locations_controller_test.rb b/test/controllers/locations_controller_test.rb
index 300ec6b..7a30b20 100644
</span><span class="gd">--- a/test/controllers/locations_controller_test.rb
</span><span class="gi">+++ b/test/controllers/locations_controller_test.rb
</span><span class="p">@@ -44,6 +44,15 @@</span> class LocationsControllerTest &lt; ActionDispatch::IntegrationTest
     assert_text thoughtbot_nyc.creator.name
   end
 
<span class="gi">+  test "#show renders the latest Recommendation" do
+    thoughtbot_nyc = offices(:thoughtbot_nyc)
+    recommendation = recommendations(:ralph_thoughtbot_nyc)
+
+    get location_path(thoughtbot_nyc.location)
+
+    assert_text recommendation.content.to_plain_text
+  end
+
</span>   test "#show renders other nearby Locations" do
     thoughtbot_nyc = offices(:thoughtbot_nyc)
     culture_espresso = cafes(:culture_espresso)
</code></pre></div></details>

              <details
  id="test/fixtures/action_text/rich_texts.yml"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse test/fixtures/action_text/rich_texts.yml</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand test/fixtures/action_text/rich_texts.yml</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      test/fixtures/action_text/rich_texts.yml
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/test/fixtures/action_text/rich_texts.yml b/test/fixtures/action_text/rich_texts.yml
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..852ebe4
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/test/fixtures/action_text/rich_texts.yml
</span><span class="p">@@ -0,0 +1,20 @@</span>
<span class="gi">+ralph_thoughtbot_nyc_recommendation:
+  record: ralph_thoughtbot_nyc (Recommendation)
+  name: content
+  body: &gt;
+    &lt;div&gt;&lt;strong&gt;Description&lt;/strong&gt;&lt;/div&gt;
+    &lt;div&gt;Home base!&lt;/div&gt;
+    &lt;div&gt;It's a spacious office high up on the twentieth floor&lt;/div&gt;
+
+    &lt;div&gt;&lt;strong&gt;Highlights&lt;/strong&gt;&lt;/div&gt;
+    &lt;div&gt;Cold brew on tap and a view of the Empire State Building.&lt;/div&gt;
+
+sean_culture_espresso_recommendation:
+  record: sean_culture_espresso (Recommendation)
+  name: content
+  body: &gt;
+    &lt;div&gt;&lt;strong&gt;Description&lt;/strong&gt;&lt;/div&gt;
+    &lt;div&gt;Strong coffee, warm 🍪&lt;/div&gt;
+
+    &lt;div&gt;&lt;strong&gt;Highlights&lt;/strong&gt;&lt;/div&gt;
+    &lt;div&gt;It's a block away from &lt;%= ActionText::FixtureSet.attachment("offices", :thoughtbot_nyc) %&gt;&lt;/div&gt;
</span></code></pre></div></details>

              <details
  id="test/fixtures/active_storage/blobs.yml"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse test/fixtures/active_storage/blobs.yml</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand test/fixtures/active_storage/blobs.yml</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      test/fixtures/active_storage/blobs.yml
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/test/fixtures/active_storage/blobs.yml b/test/fixtures/active_storage/blobs.yml
index d51d286..04a2fa8 100644
</span><span class="gd">--- a/test/fixtures/active_storage/blobs.yml
</span><span class="gi">+++ b/test/fixtures/active_storage/blobs.yml
</span><span class="p">@@ -3,5 +3,5 @@</span> ralph_avatar:
   checksum: mQsnNccJ+wDLvAr7zThqoA==
   content_type: image/png
   filename: ralph.png
<span class="gd">-  key: mpa9lz6qio2igl4q5819ox8lv3uu
</span><span class="gi">+  key: j0e5mtcxk6406be61zx6pz7rdtfp
</span>   service_name: local
</code></pre></div></details>

              <details
  id="test/fixtures/recommendations.yml"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse test/fixtures/recommendations.yml</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand test/fixtures/recommendations.yml</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      test/fixtures/recommendations.yml
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/test/fixtures/recommendations.yml b/test/fixtures/recommendations.yml
</span><span class="p">new file mode 100644
</span><span class="gh">index 0000000..1101ddd
</span><span class="gd">--- /dev/null
</span><span class="gi">+++ b/test/fixtures/recommendations.yml
</span><span class="p">@@ -0,0 +1,7 @@</span>
<span class="gi">+ralph_thoughtbot_nyc:
+  location: thoughtbot_nyc
+  user: ralph
+
+sean_culture_espresso:
+  location: culture_espresso
+  user: sean
</span></code></pre></div></details>

              <details
  id="test/system/locations_test.rb"
  open
  class="file"
>
  <summary class="file__name">
    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--close"><title>Collapse test/system/locations_test.rb</title>
  <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"></path>
</svg>


    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" role="img" class="file__toggle file__toggle--open"><title>Expand test/system/locations_test.rb</title>
  <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"></path>
</svg>


    <code>
      test/system/locations_test.rb
    </code>
  </summary>

<div class="highlight"><pre class="highlight diff"><code><span class="gh">diff --git a/test/system/locations_test.rb b/test/system/locations_test.rb
index fb7d9d1..33c669e 100644
</span><span class="gd">--- a/test/system/locations_test.rb
</span><span class="gi">+++ b/test/system/locations_test.rb
</span><span class="p">@@ -31,4 +31,19 @@</span> class LocationsTest &lt; ApplicationSystemTestCase
     assert_text culture_espresso.name
     assert_text thoughtbot_nyc.name
   end
<span class="gi">+
+  test "renders Locations attached to a Recommendation's Rich Text" do
+    culture_espresso = cafes(:culture_espresso)
+    thoughtbot_nyc = offices(:thoughtbot_nyc)
+
+    visit location_path(culture_espresso.location)
+    within_recommendations { click_on thoughtbot_nyc.name }
+
+    assert_text thoughtbot_nyc.name
+    assert_text thoughtbot_nyc.line1
+  end
+
+  def within_recommendations(&amp;block)
+    within "dl", &amp;block
+  end
</span> end
</code></pre></div></details>

          </aside>
      </article>
    </main>
  </body>
</html>
